<h2>Search Flight</h2>

<%= form_with method: :get do |f| %>
  <div>
    <%= label "Departure Airport", :departure_airport_id %><br>
    <%= f.collection_select :departure_airport_id, @airports, :id, :airport_name, selected: params[:departure_airport_id] %>
  </div>

  <div>
    <%= label "Arrival Airport", :arrival_airport_id %><br>
    <%= f.collection_select :arrival_airport_id, @airports, :id, :airport_name, selected: params[:arrival_airport_id] %>
  </div>

  <div>
    <%= label "Flight Date", :date %><br>
    <%= f.collection_select :date, @flights, :date, :date, selected: params[:date] %>
  </div>

  <div>
    <%= label "No. of Passengers", :num_tickets %><br>
    <%= f.select :num_tickets, @passengers_options %>
  </div>

  <div>
    <%= f.submit "Search" %>
  </div>

<% end %>


<h2>Search Results</h2>

<ul>
  <% @flight_results.each do |flight| %>
    <li>
      <div><%= flight.departure_airport.airport_name %></div>
      <div><%= flight.arrival_airport.airport_name %></div>
      <div><%= flight.date %></div>
      <div><%= flight.time %></div>
    </li>
  <% end %>
</ul>
